<html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><!--
* PyWebCopy Engine [version 7.0.1]
* Copyright 2020; Raja Tomar
* File mirrored from [https://kotlinlang.org/docs/debug-coroutines-with-idea.html]
* At UTC datetime: [2022-04-07 08:49:09.172597]
--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-04-06T17:37:58.879721"><meta name="build-number" content="345">   <link rel="canonical" href="./debug-coroutines-with-idea.html" data-react-helmet="true">   <meta name="keywords" content="">   <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-5P98');</script><script src="static/v3/analytics.js"></script>  <title>Debug coroutines using IntelliJ IDEA &#8211; tutorial | Kotlin</title>   <link href="static/v3/app.css" rel="stylesheet">   
        
<link rel="icon" href="../assets/images/favicon_v2.svg" type="image/svg+xml">
<link rel="alternate icon" href="../assets/images/favicon_v2.ico" type="image/x-icon">
<link rel="apple-touch-icon" sizes="57x57" href="../assets/images/apple-touch-icon_v2.png">
<link rel="apple-touch-icon" sizes="72x72" href="../assets/images/apple-touch-icon-72x72_v2.png">
<link rel="apple-touch-icon" sizes="114x114" href="../assets/images/apple-touch-icon-114x114_v2.png">
<link rel="apple-touch-icon" sizes="144x144" href="../assets/images/apple-touch-icon-144x144_v2.png">
        
          <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Debug coroutines using IntelliJ IDEA &#8211; tutorial | Kotlin"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Kotlin Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://kotlinlang.org/docs/debug-coroutines-with-idea.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Debug coroutines using IntelliJ IDEA &#8211; tutorial | Kotlin"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://kotlinlang.org/docs/debug-coroutines-with-idea.html#webpage", "url": "https://kotlinlang.org/docs/debug-coroutines-with-idea.html", "name": "Debug coroutines using IntelliJ IDEA &#8211; tutorial | Kotlin", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://kotlinlang.org/docs#website", "url": "https://kotlinlang.org/docs", "name": "Kotlin Help" }</script><!-- End Schema.org --></head>    <body data-id="debug-coroutines-with-idea" data-main-title="Debug coroutines using IntelliJ IDEA &#8211; tutorial" data-article-props='{"seeAlsoStyle":"links"}' data-template="article" data-breadcrumbs="Official libraries///Coroutines (kotlinx.coroutines)" data-edit-url="https://github.com/Kotlin/kotlinx.coroutines/edit/master/docs/topics/debug-coroutines-with-idea.md">  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Kotlin  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">  </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="debug-coroutines-with-idea" id="debug-coroutines-with-idea.md">Debug coroutines using IntelliJ IDEA &#8211; tutorial</h1><p id="70375059">This tutorial demonstrates how to create Kotlin coroutines and debug them using IntelliJ IDEA.</p><p id="d1971073">The tutorial assumes you have prior knowledge of the <a href="https://kotlinlang.org/docs/coroutines-guide.html" id="a40f6019">coroutines</a> concept.</p><aside data-type="note" class="prompt" data-title="" id="9710c8e4"><p id="ccbf0697">Debugging works for <code class="code ">kotlinx-coroutines-core</code> version 1.3.8 or later.</p></aside><section class="chapter"><h2 id="create-coroutines" data-toc="debug-coroutines-with-idea#create-coroutines">Create coroutines</h2><ol class="list _decimal" id="615a348b"><li class="list__item" id="ec4063ba"><p id="2d450fc0">Open a Kotlin project in IntelliJ IDEA. If you don't have a project, <a href="https://kotlinlang.org/docs/jvm-get-started.html#create-an-application" id="e22919f4">create one</a>.</p></li><li class="list__item" id="ef6d6d49"><p id="f055e5d9">Open the <code class="code ">main.kt</code> file in <code class="code ">src/main/kotlin</code>.</p><p id="3f492af1">The <code class="code ">src</code> directory contains Kotlin source files and resources. The <code class="code ">main.kt</code> file contains sample code that will print <code class="code ">Hello World!</code>.</p></li><li class="list__item" id="b7314bf4"><p id="ae09744d">Change code in the <code class="code ">main()</code> function:</p><ul class="list _ul" id="40e77248"><li class="list__item" id="29c3dd8d"><p>Use the <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/run-blocking.html" id="be1f93a5" data-external="true" rel="noopener noreferrer"><code class="code ">runBlocking()</code></a> block to wrap a coroutine.</p></li><li class="list__item" id="b8d2e680"><p>Use the <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/async.html" id="dbafbe03" data-external="true" rel="noopener noreferrer"><code class="code ">async()</code></a> function to create coroutines that compute deferred values <code class="code ">a</code> and <code class="code ">b</code>.</p></li><li class="list__item" id="b95c983e"><p>Use the <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-deferred/await.html" id="178c69cb" data-external="true" rel="noopener noreferrer"><code class="code ">await()</code></a> function to await the computation result.</p></li><li class="list__item" id="74a5bed9"><p>Use the <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/println.html" id="46de849c" data-external="true" rel="noopener noreferrer"><code class="code ">println()</code></a> function to print computing status and the result of multiplication to the output.</p></li></ul><div class="code-block" data-lang="kotlin">import kotlinx.coroutines.*

fun main() = runBlocking&lt;Unit&gt; {
    val a = async {
        println("I'm computing part of the answer")
        6
    }
    val b = async {
        println("I'm computing another part of the answer")
        7
    }
    println("The answer is ${a.await() * b.await()}")
}
</div></li><li class="list__item" id="4cb6c188"><p id="5d182b61">Build the code by clicking <b id="28426305" class="">Build Project</b>.</p><figure class=" " id="5fe0697b"><img alt="Build an application" title="Build an application" src="images/flow-build-project.png" class=" " width="984" height="308"></figure></li></ol></section><section class="chapter"><h2 id="debug-coroutines" data-toc="debug-coroutines-with-idea#debug-coroutines">Debug coroutines</h2><ol class="list _decimal" id="899bd3a0"><li class="list__item" id="9f1423d4"><p id="9c8985d1">Set breakpoints at the lines with the <code class="code ">println()</code> function call:</p><figure class=" " id="a0d37d51"><img alt="Build a console application" title="Build a console application" src="images/coroutine-breakpoint.png" class=" " width="1312" height="668"></figure></li><li class="list__item" id="3aa14141"><p id="a7e66210">Run the code in debug mode by clicking <b id="4b7d423c" class="">Debug</b> next to the run configuration at the top of the screen.</p><figure class=" " id="7af13e1e"><img alt="Build a console application" title="Build a console application" src="images/flow-debug-project.png" class=" " width="1158" height="342"></figure><p id="353ee347">The <b id="3b772842" class="">Debug</b> tool window appears:</p><ul class="list _ul" id="98516c04"><li class="list__item" id="571a6878"><p>The <b id="7a5bf72c" class="">Frames</b> tab contains the call stack.</p></li><li class="list__item" id="d5973291"><p>The <b id="bceeba6f" class="">Variables</b> tab contains variables in the current context.</p></li><li class="list__item" id="de68d132"><p>The <b id="97859f45" class="">Coroutines</b> tab contains information on running or suspended coroutines. It shows that there are three coroutines. The first one has the <b id="ca9d71d5" class="">RUNNING</b> status, and the other two have the <b id="16706d7a" class="">CREATED</b> status.</p></li></ul><figure class=" " id="ff742c60"><img alt="Debug the coroutine" title="Debug the coroutine" src="images/coroutine-debug-1.png" class=" " width="2408" height="658"></figure></li><li class="list__item" id="7848ce1b"><p id="e6a23440">Resume the debugger session by clicking <b id="66521ad5" class="">Resume Program</b> in the <b id="dfc14d1" class="">Debug</b> tool window:</p><figure class=" " id="4a8f3bae"><img alt="Debug the coroutine" title="Debug the coroutine" src="images/coroutine-debug-2.png" class=" " width="2408" height="658"></figure><p id="2870a565">Now the <b id="bd92ea23" class="">Coroutines</b> tab shows the following:</p><ul class="list _ul" id="58ba67"><li class="list__item" id="2387f5d9"><p>The first coroutine has the <b id="383e41f2" class="">SUSPENDED</b> status &#8211; it is waiting for the values so it can multiply them.</p></li><li class="list__item" id="d2eb419c"><p>The second coroutine is calculating the <code class="code ">a</code> value &#8211; it has the <b id="96ac7c84" class="">RUNNING</b> status.</p></li><li class="list__item" id="d4abb403"><p>The third coroutine has the <b id="d6d81a84" class="">CREATED</b> status and isn&#8217;t calculating the value of <code class="code ">b</code>.</p></li></ul></li><li class="list__item" id="f498c37c"><p id="9c8f669f">Resume the debugger session by clicking <b id="dec6c582" class="">Resume Program</b> in the <b id="8c09d9dd" class="">Debug</b> tool window:</p><figure class=" " id="1f25e6b2"><img alt="Build a console application" title="Build a console application" src="images/coroutine-debug-3.png" class=" " width="2408" height="658"></figure><p id="7c5a8b8c">Now the <b id="15f3ac64" class="">Coroutines</b> tab shows the following:</p><ul class="list _ul" id="a86a7b80"><li class="list__item" id="8e2e0b23"><p>The first coroutine has the <b id="9a76ff9a" class="">SUSPENDED</b> status &#8211; it is waiting for the values so it can multiply them.</p></li><li class="list__item" id="46e9f3eb"><p>The second coroutine has computed its value and disappeared.</p></li><li class="list__item" id="b90a76a0"><p>The third coroutine is calculating the value of <code class="code ">b</code> &#8211; it has the <b id="c89f76a0" class="">RUNNING</b> status.</p></li></ul></li></ol><p id="bd861eba">Using IntelliJ IDEA debugger, you can dig deeper into each coroutine to debug your code.</p></section><div class="last-modified"> Last modified: 04 April 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="https://kotlinlang.org/docs/select-expression.html">Select expression (experimental)</a>   <a class="navigation-links__next" href="https://kotlinlang.org/docs/debug-flow-with-idea.html">Debug Kotlin Flow using IntelliJ IDEA &#8211; tutorial</a>  </div></article>  </div></section></main></div>  <script src="static/v3/app.js"></script>  </body></html>